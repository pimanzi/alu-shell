#!/usr/bin/env bash
# Set the input field separator (IFS) to ":"
IFS=":"

# Read the /etc/passwd file into an array
mapfile -t passwd_entries < /etc/passwd

# Iterate over the array of passwd entries
for passwd_entry in "${passwd_entries[@]}"; do
    # Split the passwd entry into fields
    IFS=":" read -r username _ uid _ _ home shell _ <<< "$passwd_entry"

    # Extract user ID info
    uid_info=$(grep "^$username:" /etc/passwd | cut -d: -f5)

    # Print formatted output
    echo "The user $username lives in $home and rides $shell. $uid's place is protected by the passcode x, more info about the user here: $uid_info"
done
